apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    a8r.io/repository: https://github.com/Zebradil/myks-homelab
    kbld.k14s.io/images: |
      - origins:
        - resolved:
            tag: 2023.12.21-5ed3693
            url: ghcr.io/corentinth/it-tools:2023.12.21-5ed3693
        - preresolved:
            url: ghcr.io/corentinth/it-tools@sha256:4aaf67eab769afc9dac5614a15614537446e11150d53eab3be34ac9775a27e3a
        url: ghcr.io/corentinth/it-tools@sha256:4aaf67eab769afc9dac5614a15614537446e11150d53eab3be34ac9775a27e3a
  name: it-tools
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: it-tools
  template:
    metadata:
      labels:
        app.kubernetes.io/name: it-tools
    spec:
      containers:
        - image: ghcr.io/corentinth/it-tools@sha256:4aaf67eab769afc9dac5614a15614537446e11150d53eab3be34ac9775a27e3a
          name: it-tools
          ports:
            - containerPort: 80
              name: http
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              add:
                - NET_BIND_SERVICE
                - CHOWN
                - SETGID
                - SETUID
              drop:
                - all
            privileged: false
