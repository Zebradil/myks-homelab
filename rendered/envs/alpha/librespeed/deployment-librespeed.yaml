apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    a8r.io/repository: https://github.com/Zebradil/myks-homelab
    kbld.k14s.io/images: |
      - origins:
        - resolved:
            tag: 5.4.20240804
            url: linuxserver/librespeed:5.4.20240804
        - preresolved:
            url: index.docker.io/linuxserver/librespeed@sha256:1513bbf55b718af1a89e5a532bfd378214ff63ccb9edd36d8321b5c182681888
        url: index.docker.io/linuxserver/librespeed@sha256:1513bbf55b718af1a89e5a532bfd378214ff63ccb9edd36d8321b5c182681888
  name: librespeed
spec:
  selector:
    matchLabels:
      app: librespeed
  template:
    metadata:
      labels:
        app: librespeed
    spec:
      containers:
        - env:
            - name: PASSWORD
              valueFrom:
                secretKeyRef:
                  key: password
                  name: librespeed
          image: index.docker.io/linuxserver/librespeed@sha256:1513bbf55b718af1a89e5a532bfd378214ff63ccb9edd36d8321b5c182681888
          name: librespeed
          ports:
            - containerPort: 80
              name: http
