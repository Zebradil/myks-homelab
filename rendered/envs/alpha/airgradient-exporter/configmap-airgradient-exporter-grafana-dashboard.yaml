apiVersion: v1
data:
  airgradient-exporter-dashboard.json: |-
    {
      "annotations": {},
      "description": "Dashboard for the Airgradient One native prometheus metrics exporter. Compatible with the 3.0.6 firmware.",
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 1,
      "liveNow": true,
      "panels": [
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 0,
          "panels": [],
          "repeat": "serialno",
          "title": "Current Status (serial $serialno)",
          "type": "row"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Ambient temperature near the sensor.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds",
                "seriesBy": "last"
              },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": 0
                  },
                  {
                    "color": "light-blue",
                    "value": 18
                  },
                  {
                    "color": "green",
                    "value": 21
                  },
                  {
                    "color": "yellow",
                    "value": 25
                  },
                  {
                    "color": "red",
                    "value": 28
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 1
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "values": true
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_atmp{serialno=~\"$serialno\"})",
              "instant": true,
              "legendFormat": "{{sensor}}",
              "range": false,
              "refId": ""
            }
          ],
          "title": "Temperature (°C)",
          "transparent": false,
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Ambient relative humidity near the sensor.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds",
                "seriesBy": "last"
              },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "orange",
                    "value": 0
                  },
                  {
                    "color": "yellow",
                    "value": 25
                  },
                  {
                    "color": "green",
                    "value": 30
                  },
                  {
                    "color": "yellow",
                    "value": 50
                  },
                  {
                    "color": "orange",
                    "value": 60
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 4,
            "y": 1
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "values": true
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_rhum{serialno=~\"$serialno\"})",
              "instant": true,
              "legendFormat": "{{sensor}}",
              "range": false,
              "refId": ""
            }
          ],
          "title": "Relative Humidity (%)",
          "transparent": false,
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Carbon dioxide concentration in the air. PPM (parts per million) reflects volumetric gas concentration. Standard unit for tracking CO2 buildup from human activity.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds",
                "seriesBy": "last"
              },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green",
                    "value": 0
                  },
                  {
                    "color": "green",
                    "value": 801
                  },
                  {
                    "color": "yellow",
                    "value": 1000
                  },
                  {
                    "color": "orange",
                    "value": 1500
                  },
                  {
                    "color": "red",
                    "value": 2000
                  },
                  {
                    "color": "purple",
                    "value": 3000
                  },
                  {
                    "color": "#000000",
                    "value": 10000
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 8,
            "y": 1
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "values": true
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_rco2{serialno=~\"$serialno\"})",
              "instant": true,
              "legendFormat": "{{sensor}}",
              "range": false,
              "refId": ""
            }
          ],
          "title": "CO2 Level (ppm)",
          "transparent": false,
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Total weight of particles with a diameter of 1.0 micrometers or smaller, in μg / m3",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic",
                "seriesBy": "last"
              },
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 12,
            "y": 1
          },
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "values": true
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_pm01{serialno=~\"$serialno\"})",
              "instant": true,
              "legendFormat": "{{sensor}}",
              "range": false,
              "refId": ""
            }
          ],
          "title": "PM1 μg/m3",
          "transparent": false,
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Total weight of particles with a diameter of 2.5 micrometers or smaller, in μg / m3",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic",
                "seriesBy": "last"
              },
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 16,
            "y": 1
          },
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "values": true
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_pm02{serialno=~\"$serialno\"})",
              "instant": true,
              "legendFormat": "{{sensor}}",
              "range": false,
              "refId": ""
            }
          ],
          "title": "PM2.5 μg/m3",
          "transparent": false,
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Total weight of particles with a diameter of 10.0 micrometers or smaller, in μg / m3",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic",
                "seriesBy": "last"
              },
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 20,
            "y": 1
          },
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "values": true
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_pm10{serialno=~\"$serialno\"})",
              "instant": true,
              "legendFormat": "{{sensor}}",
              "range": false,
              "refId": ""
            }
          ],
          "title": "PM10 μg/m3",
          "transparent": false,
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Total number of particles with a diameter of 0.3 micrometers or smaller per 100ml air",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic",
                "seriesBy": "last"
              },
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 0,
            "y": 5
          },
          "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "values": true
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_pm003_count{serialno=~\"$serialno\"})",
              "instant": true,
              "legendFormat": "{{sensor}}",
              "range": false,
              "refId": ""
            }
          ],
          "title": "PM0.3 particles/dL",
          "transparent": false,
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Unitless index (1 - 500) based on deviation from 24h baseline. 1 = baseline, \u003e1 = more oxidizing gases present.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds",
                "seriesBy": "last"
              },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 1.1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 4,
            "y": 5
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "values": true
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_nox_index{serialno=~\"$serialno\"})",
              "instant": true,
              "legendFormat": "{{sensor}}",
              "range": false,
              "refId": ""
            }
          ],
          "title": "NOx Index",
          "transparent": false,
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Unitless index (1 - 500) based on deviation from 24h baseline. 100 = baseline, \u003e100 = more VOCs present compared to the 24-hour baseline, \u003c100 = fewer VOCs compared to the 24-hour baseline. Index is used because MOx sensors respond broadly to many VOCs, making exact ppb estimates unreliable. Better for detecting relative changes in air quality. The VOC Index adapts its gain based on environment: in clean air it becomes more sensitive to small changes, and in polluted air, it reduces sensitivity to avoid saturation, ensuring relative changes remain meaningful.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds",
                "seriesBy": "last"
              },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "yellow",
                    "value": 100
                  },
                  {
                    "color": "red",
                    "value": 101
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 4,
            "x": 8,
            "y": 5
          },
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "values": true
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_tvoc_index{serialno=~\"$serialno\"})",
              "instant": true,
              "legendFormat": "{{sensor}}",
              "range": false,
              "refId": ""
            }
          ],
          "title": "TVOC Index",
          "transparent": false,
          "type": "stat"
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 9
          },
          "id": 0,
          "panels": [],
          "title": "Temperature \u0026 Humidity",
          "type": "row"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Ambient temperature near the sensor.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds",
                "seriesBy": "last"
              },
              "custom": {
                "axisBorderShow": true,
                "fillOpacity": 15,
                "gradientMode": "scheme",
                "lineInterpolation": "smooth",
                "lineWidth": 2,
                "showPoints": "auto",
                "spanNulls": false,
                "thresholdsStyle": {
                  "mode": "dashed"
                }
              },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": 0
                  },
                  {
                    "color": "light-blue",
                    "value": 18
                  },
                  {
                    "color": "green",
                    "value": 21
                  },
                  {
                    "color": "yellow",
                    "value": 25
                  },
                  {
                    "color": "red",
                    "value": 28
                  }
                ]
              },
              "unit": "celsius"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 12,
            "x": 0,
            "y": 10
          },
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "min",
                "max",
                "mean",
                "variance",
                "stdDev"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_atmp{serialno=~\"$serialno\"})",
              "instant": false,
              "legendFormat": "{{sensor}}",
              "range": true,
              "refId": ""
            }
          ],
          "title": "Temperature (°C)",
          "transparent": false,
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Ambient relative humidity near the sensor.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds",
                "seriesBy": "last"
              },
              "custom": {
                "axisBorderShow": true,
                "fillOpacity": 15,
                "gradientMode": "scheme",
                "lineInterpolation": "smooth",
                "lineWidth": 2,
                "showPoints": "auto",
                "spanNulls": false,
                "thresholdsStyle": {
                  "mode": "dashed"
                }
              },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "orange",
                    "value": 0
                  },
                  {
                    "color": "yellow",
                    "value": 25
                  },
                  {
                    "color": "green",
                    "value": 30
                  },
                  {
                    "color": "yellow",
                    "value": 50
                  },
                  {
                    "color": "orange",
                    "value": 60
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 12,
            "x": 12,
            "y": 10
          },
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "min",
                "max",
                "mean",
                "variance",
                "stdDev"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_rhum{serialno=~\"$serialno\"})",
              "instant": false,
              "legendFormat": "{{sensor}}",
              "range": true,
              "refId": ""
            }
          ],
          "title": "Relative Humidity (%)",
          "transparent": false,
          "type": "timeseries"
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 23
          },
          "id": 0,
          "panels": [],
          "title": "CO2 PPM",
          "type": "row"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Carbon dioxide concentration in the air. PPM (parts per million) reflects volumetric gas concentration. Standard unit for tracking CO2 buildup from human activity.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds",
                "seriesBy": "last"
              },
              "custom": {
                "axisBorderShow": true,
                "axisSoftMin": 430,
                "fillOpacity": 15,
                "gradientMode": "scheme",
                "lineInterpolation": "smooth",
                "lineWidth": 2,
                "showPoints": "auto",
                "spanNulls": false,
                "thresholdsStyle": {
                  "mode": "dashed"
                }
              },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green",
                    "value": 0
                  },
                  {
                    "color": "green",
                    "value": 801
                  },
                  {
                    "color": "yellow",
                    "value": 1000
                  },
                  {
                    "color": "orange",
                    "value": 1500
                  },
                  {
                    "color": "red",
                    "value": 2000
                  },
                  {
                    "color": "purple",
                    "value": 3000
                  },
                  {
                    "color": "#000000",
                    "value": 10000
                  }
                ]
              },
              "unit": "ppm"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 24,
            "x": 0,
            "y": 24
          },
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "min",
                "max",
                "mean",
                "variance",
                "stdDev"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_rco2{serialno=~\"$serialno\"})",
              "instant": false,
              "legendFormat": "{{sensor}}",
              "range": true,
              "refId": ""
            }
          ],
          "title": "CO2 Level (ppm)",
          "transparent": false,
          "type": "timeseries"
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 37
          },
          "id": 0,
          "panels": [],
          "title": "Particle Pollution",
          "type": "row"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Total number of particles with a diameter of 0.3 micrometers or smaller per 100ml air",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "axisBorderShow": true,
                "fillOpacity": 15,
                "gradientMode": "hue",
                "lineInterpolation": "smooth",
                "lineWidth": 2,
                "showPoints": "auto",
                "spanNulls": false
              },
              "thresholds": {
                "mode": "absolute",
                "steps": []
              },
              "unit": "particles/100ml"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 12,
            "x": 0,
            "y": 38
          },
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "min",
                "max",
                "mean",
                "variance",
                "stdDev"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_pm003_count{serialno=~\"$serialno\"})",
              "instant": false,
              "legendFormat": "{{sensor}}",
              "range": true,
              "refId": ""
            }
          ],
          "title": "PM0.3 particles/dL",
          "transparent": false,
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Total weight of particles with a diameter of 1.0 micrometers or smaller, in μg / m3",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "axisBorderShow": true,
                "fillOpacity": 15,
                "gradientMode": "hue",
                "lineInterpolation": "smooth",
                "lineWidth": 2,
                "showPoints": "auto",
                "spanNulls": false
              },
              "thresholds": {
                "mode": "absolute",
                "steps": []
              },
              "unit": "conμgm3"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 12,
            "x": 12,
            "y": 38
          },
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "min",
                "max",
                "mean",
                "variance",
                "stdDev"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_pm01{serialno=~\"$serialno\"})",
              "instant": false,
              "legendFormat": "{{sensor}}",
              "range": true,
              "refId": ""
            }
          ],
          "title": "PM1 μg/m3",
          "transparent": false,
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Total weight of particles with a diameter of 2.5 micrometers or smaller, in μg / m3",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "axisBorderShow": true,
                "fillOpacity": 15,
                "gradientMode": "hue",
                "lineInterpolation": "smooth",
                "lineWidth": 2,
                "showPoints": "auto",
                "spanNulls": false
              },
              "thresholds": {
                "mode": "absolute",
                "steps": []
              },
              "unit": "conμgm3"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 12,
            "x": 0,
            "y": 52
          },
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "min",
                "max",
                "mean",
                "variance",
                "stdDev"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_pm02{serialno=~\"$serialno\"})",
              "instant": false,
              "legendFormat": "{{sensor}}",
              "range": true,
              "refId": ""
            }
          ],
          "title": "PM2.5 μg/m3",
          "transparent": false,
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Total weight of particles with a diameter of 10.0 micrometers or smaller, in μg / m3",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "axisBorderShow": true,
                "fillOpacity": 15,
                "gradientMode": "hue",
                "lineInterpolation": "smooth",
                "lineWidth": 2,
                "showPoints": "auto",
                "spanNulls": false
              },
              "thresholds": {
                "mode": "absolute",
                "steps": []
              },
              "unit": "conμgm3"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 12,
            "x": 12,
            "y": 52
          },
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "min",
                "max",
                "mean",
                "variance",
                "stdDev"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_pm10{serialno=~\"$serialno\"})",
              "instant": false,
              "legendFormat": "{{sensor}}",
              "range": true,
              "refId": ""
            }
          ],
          "title": "PM10 μg/m3",
          "transparent": false,
          "type": "timeseries"
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 66
          },
          "id": 0,
          "panels": [],
          "title": "TVOC / NOx",
          "type": "row"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Unitless index (1 - 500) based on deviation from 24h baseline. 100 = baseline, \u003e100 = more VOCs present compared to the 24-hour baseline, \u003c100 = fewer VOCs compared to the 24-hour baseline. Index is used because MOx sensors respond broadly to many VOCs, making exact ppb estimates unreliable. Better for detecting relative changes in air quality. The VOC Index adapts its gain based on environment: in clean air it becomes more sensitive to small changes, and in polluted air, it reduces sensitivity to avoid saturation, ensuring relative changes remain meaningful.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds",
                "seriesBy": "last"
              },
              "custom": {
                "axisBorderShow": true,
                "fillOpacity": 15,
                "gradientMode": "scheme",
                "lineInterpolation": "smooth",
                "lineWidth": 2,
                "showPoints": "auto",
                "spanNulls": false,
                "thresholdsStyle": {
                  "mode": "dashed"
                }
              },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "yellow",
                    "value": 100
                  },
                  {
                    "color": "red",
                    "value": 101
                  }
                ]
              },
              "unit": "TVOC"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 12,
            "x": 0,
            "y": 67
          },
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "min",
                "max",
                "mean",
                "variance",
                "stdDev"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_tvoc_index{serialno=~\"$serialno\"})",
              "instant": false,
              "legendFormat": "{{sensor}}",
              "range": true,
              "refId": ""
            }
          ],
          "title": "TVOC Index",
          "transparent": false,
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus"
          },
          "description": "Unitless index (1 - 500) based on deviation from 24h baseline. 1 = baseline, \u003e1 = more oxidizing gases present.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds",
                "seriesBy": "last"
              },
              "custom": {
                "axisBorderShow": true,
                "fillOpacity": 15,
                "gradientMode": "scheme",
                "lineInterpolation": "smooth",
                "lineWidth": 2,
                "showPoints": "auto",
                "spanNulls": false,
                "thresholdsStyle": {
                  "mode": "dashed"
                }
              },
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 1.1
                  }
                ]
              },
              "unit": "NOx"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 12,
            "x": 12,
            "y": 67
          },
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "min",
                "max",
                "mean",
                "variance",
                "stdDev"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(serialno) (airgradient_nox_index{serialno=~\"$serialno\"})",
              "instant": false,
              "legendFormat": "{{sensor}}",
              "range": true,
              "refId": ""
            }
          ],
          "title": "NOx Index",
          "transparent": false,
          "type": "timeseries"
        }
      ],
      "refresh": "",
      "schemaVersion": 41,
      "templating": {
        "list": [
          {
            "allValue": ".*",
            "allowCustomValue": true,
            "auto": false,
            "auto_count": 30,
            "auto_min": "10s",
            "datasource": {
              "type": "prometheus"
            },
            "includeAll": true,
            "multi": true,
            "name": "serialno",
            "query": "label_values(airgradient_config_info,serialno)",
            "refresh": 1,
            "skipUrlSync": false,
            "sort": 1,
            "type": "query"
          }
        ]
      },
      "time": {
        "from": "now-12h",
        "to": "now"
      },
      "timezone": "",
      "title": "Airgradient Native",
      "uid": "d11cb5b1-cb9b-47a9-98a6-94cc40fbc0a6"
    }
kind: ConfigMap
metadata:
  annotations:
    a8r.io/repository: https://github.com/Zebradil/myks-homelab
  labels:
    grafana_dashboard: "1"
  name: airgradient-exporter-grafana-dashboard
