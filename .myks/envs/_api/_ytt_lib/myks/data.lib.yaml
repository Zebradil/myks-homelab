
#@ def _env_data():
application: {}
argocd:
  enabled: true
  namespace: argocd
  app:
    name: ""
    prefix: app-
    finalizers:
    - resources-finalizer.argocd.argoproj.io
    destination:
      name: in-cluster
      server: ""
      namespace: ""
    source:
      path: ""
      plugin:
        name: argocd-vault-plugin
      repoURL: https://github.com/Zebradil/myks-homelab
      targetRevision: main
    syncPolicy:
      prune: true
      selfHeal: false
    syncOptions:
    - CreateNamespace=true
    - ServerSideApply=true
    - FailOnSharedResource=true
    - RespectIgnoreDifferences=true
  env:
    name: ""
    prefix: ""
    generateSecret: false
  project:
    enabled: true
    name: ""
    prefix: env-
    destination:
      name: in-cluster
      server: ""
      namespace: '*'
environment:
  id: alpha
  applications:
  - proto: webapp
    name: airgradient-exporter
  - proto: argocd
    name: ""
  - proto: authelia
    name: ""
  - proto: maks-cams
    name: cams
  - proto: cert-manager
    name: ""
  - proto: comentario
    name: ""
  - proto: blank
    name: fluidd
  - proto: grafana-agent
    name: ""
  - proto: harbor
    name: ""
  - proto: webapp
    name: httpbingo
  - proto: image-puller
    name: ""
  - proto: webapp
    name: it-tools
  - proto: jellyfin
    name: ""
  - proto: k3s-private-registries
    name: ""
  - proto: librespeed
    name: ""
  - proto: pacoloco
    name: ""
  - proto: paperless
    name: ""
  - proto: starbase80
    name: ""
  - proto: synology-csi
    name: ""
  - proto: traefik
    name: ""
  - proto: webapp
    name: uptime-kuma
  - proto: vaultwarden
    name: ""
  - proto: victoria-metrics-k8s-stack
    name: vmks
  baseDomain: zebradil.dev
  hosts:
  - zebradil.dev
  - gray.zebradil.dev
  - junior.zebradil.dev
  - ts.zebradil.dev
  - gray.ts.zebradil.dev
  - junior.ts.zebradil.dev
  - lan.zebradil.dev
  - gray.lan.zebradil.dev
  - junior.lan.zebradil.dev
  traefik:
    hosts:
      lan:
      - lan.zebradil.dev
      - gray.lan.zebradil.dev
      - junior.lan.zebradil.dev
      vpn:
      - ts.zebradil.dev
      - gray.ts.zebradil.dev
      - junior.ts.zebradil.dev
      web:
      - zebradil.dev
      - gray.zebradil.dev
      - junior.zebradil.dev
  nodes:
  - gray
  - junior
helm:
  buildDependencies: false
  capabilities:
  - monitoring.coreos.com/v1
  includeCRDs: true
  kubeVersion: 1.33.1
  namespace: ""
  charts: []
kbld:
  enabled: true
  imagesAnnotation: false
  cache: true
  overrides:
  - match:
      registry: ghcr\.io
      repository: (.+)
      tag: ""
    replace:
      registry: oci.zebradil.dev
      repository: ghcr.io-cache/$1
      tag: ""
  - match:
      registry: index\.docker\.io
      repository: (.+)
      tag: ""
    replace:
      registry: oci.zebradil.dev
      repository: index.docker.io-cache/$1
      tag: ""
  - match:
      registry: quay\.io
      repository: (.+)
      tag: ""
    replace:
      registry: oci.zebradil.dev
      repository: quay.io-cache/$1
      tag: ""
  - match:
      registry: registry\.access\.redhat\.com
      repository: (.+)
      tag: ""
    replace:
      registry: oci.zebradil.dev
      repository: registry.access.redhat.com-cache/$1
      tag: ""
  - match:
      registry: registry\.k8s\.io
      repository: (.+)
      tag: ""
    replace:
      registry: oci.zebradil.dev
      repository: registry.k8s.io-cache/$1
      tag: ""
yttPkg:
  dirs: []
render:
  includeNamespace: false
myks:
  gitRepoBranch: main
  gitRepoUrl: https://github.com/Zebradil/myks-homelab
  context:
    app: ""
    prototype: ""
    step: ""
    helm:
      chart: ""

#@ end

#@ load("@ytt:struct", "struct")
#@ load("@ytt:yaml", "yaml")
#@ env_data = struct.encode(yaml.decode(yaml.encode(_env_data())))
